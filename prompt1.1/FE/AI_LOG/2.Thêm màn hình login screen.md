Tôi đã thêm module auth theo yêu cầu — Clean Architecture + BLoC/Cubit — và tạo màn hình Login hoàn chỉnh kèm popup OTP, mock repository và hướng dẫn tiếng Việt.

Tóm tắt những gì đã tạo

UI
login_page.dart
Header: logo assets/images/lauchIcon.png + text "Digital Bank" căn giữa
Form: TextField "Tên tài khoản", TextField "Mật khẩu" (obscure + toggle), link "Quên mật khẩu", link "Đăng ký", button "Đăng nhập"
Bottom Navigation: 4 nút (eToken, QR Scan, Hỗ trợ, Mạng lưới)
Khi nhấn Đăng nhập: gọi LoginCubit.login(...). Nếu thành công sẽ mở bottom-sheet nhập OTP.
Popup OTP: 6 ô nhập số + xác nhận. Mã OTP đúng demo = 123456. Có chỗ để hiện countdown (hiện text tĩnh "Gửi lại (00:59)" — có thể mở rộng thành countdown thực tế).
Sau verify OTP thành công: điều hướng tới route /dashboard (placeholder).
Logic / Repository
login_cubit.dart — Cubit xử lý login, khởi countdown OTP, verify OTP mock.
verifyOtp chấp nhận 123456 là đúng (demo).
lib/presentation/cubit/auth/login_state.dart — trạng thái (enum LoginStatus + LoginState).
lib/domain/repositories/auth_repository.dart — interface AuthRepository + MockAuthRepository (accept any non-empty credentials).
Tài liệu (tiếng Việt)
docs/prompt_tao_trang_login.md — mô tả, luồng, cách dùng nhanh và gợi ý cải tiến.
Cách dùng / tích hợp nhanh (ví dụ)

Đăng ký Cubit ở cấp app (ví dụ trong main.dart):
final repo = MockAuthRepository();
```dart
runApp(
  BlocProvider(
    create: (_) => LoginCubit(repo),
    child: const MyApp(),
  ),
);
```

Thêm route /dashboard (hiện tại chỉ là placeholder). Ví dụ:
```dart
routes: {
  '/': (_) => const LoginPage(),
  '/dashboard': (_) => const Scaffold(body: Center(child: Text('Dashboard (placeholder)'))),
}
```
Chạy app:
```
cd digital_bank_app
flutter pub get
flutter run -t lib/main.dart
```

Chi tiết quan trọng / lưu ý

OTP popup: mã demo = 123456. LoginCubit.verifyOtp chỉ kiểm tra chuỗi này. Thực tế cần gọi API server để verify.
Countdown resend OTP: hiện tại script/cubit có timer nội bộ (đếm xuống) nhưng UI chỉ hiển thị text tĩnh. Có thể mở rộng để hiển thị thời gian còn lại và bật/tắt button gửi lại.
Adaptive behavior: UI sử dụng Navigator.of(context).pushReplacementNamed('/dashboard') — bạn cần chắc route /dashboard đã khai báo.
Kiểm tra analyzer: Tôi đã chạy flutter analyze. Kết quả: chỉ còn 2 thông tin (info) về việc có thể thêm const để tối ưu — không ảnh hưởng chức năng. Nếu bạn muốn, tôi sẽ loại bỏ hoàn toàn các cảnh báo info bằng cách thêm/di chuyển các const hợp lý.
Các file đã thêm (để bạn dễ kiểm tra)

login_page.dart — UI + OTP sheet
login_cubit.dart — Cubit
lib/presentation/cubit/auth/login_state.dart — State
lib/domain/repositories/auth_repository.dart — interface + MockAuthRepository
docs/prompt_tao_trang_login.md — hướng dẫn tiếng Việt
Kiểm thử nhanh (local)

Đăng nhập: nhập bất kỳ tài khoản + mật khẩu (không rỗng) → nhấn Đăng nhập → popup OTP xuất hiện.
Nhập mã 123456 → app điều hướng tới /dashboard.
Muốn tôi làm gì tiếp theo?

A. Hoàn thiện countdown resend OTP + hiển thị thời gian (UI + Cubit).
B. Thêm xử lý lỗi/hiển thị Snackbar khi login thất bại.
C. Viết unit tests cho LoginCubit (happy path + wrong OTP).
D. Loại bỏ 2 analyzer info còn lại (tự động thêm const nếu có thể) — nhỏ.
E. Gộp/commit các thay đổi và mở PR (nếu bạn muốn tôi làm thao tác git).





Ngắn gọn — câu trả lời và các lưu ý thực tế:

Có, bạn đã đăng ký LoginCubit ở cấp app
Trong main.dart bạn gọi:
```dart
runApp(
  BlocProvider(
    create: (_) => LoginCubit(repo),
    child: const MyApp(),
  ),
);
```
Vì BlocProvider bọc MyApp, mọi widget bên trong MyApp (bao gồm các route như LoginPage) đều có thể lấy LoginCubit bằng context.read<LoginCubit>() hoặc BlocProvider.of<LoginCubit>(context). Vậy: Cubit đã được cung cấp ở cấp ứng dụng — đúng.
Có, route /dashboard cũng đã thêm
Trong MaterialApp bạn có:
```dart
routes: {
  '/': (_) => const LoginPage(),
  '/dashboard': (_) => const Scaffold(body: Center(child: Text('Dashboard (placeholder)'))),
}
```

Nên khi bạn gọi Navigator.of(context).pushReplacementNamed('/dashboard') sẽ tìm thấy route này. Vậy route /dashboard đã tồn tại.
Các lưu ý / điểm có thể cải thiện (đề xuất)

Khởi động app đến màn hình nào?
Hiện bạn đang đặt initialRoute: HomePage.routeName. Nếu ý định là bắt đầu từ trang Login, hãy đổi:
initialRoute: '/' hoặc
dùng home: const LoginPage() thay cho initialRoute.
Nếu HomePage.routeName là một route hợp lệ và bạn muốn bắt đầu ở HomePage thì giữ nguyên. Chỉ cần chắc rằng đó là đúng ý định.
Về DI / repo:
Bạn gọi await di.init(); — nếu trong di.init() bạn đã register AuthRepository, tốt hơn là lấy repo từ DI (ví dụ di.sl<AuthRepository>()) thay vì tạo final repo = MockAuthRepository(); cục bộ, để tránh duplicate instances và để dễ thay mock/real bằng cấu hình DI.
Ví dụ:
```dart
final repo = di.sl<AuthRepository>();
```
Cung cấp nhiều provider:
Nếu bạn cần nhiều Cubit/Repository cho toàn app, cân nhắc dùng MultiBlocProvider / RepositoryProvider để quản lý gọn gàng.
Khi chuyển route:
Bạn dùng pushReplacementNamed('/dashboard') → route đã khai báo, OK. Nếu dashboard có phụ thuộc cần Cubit hay Repository, đảm bảo chúng được cung cấp (qua DI hoặc các Provider).
Vấn đề với const widgets:
Bạn đang dùng const LoginPage() trong routes — hợp lệ nếu LoginPage constructor là const. Cubit vẫn được cung cấp ở runtime (const widget không ngăn context lookup).
Muốn tôi sửa gì ngay bây giờ?

A — Nếu bạn muốn app khởi từ Login, tôi sẽ thay initialRoute thành '/' hoặc home: const LoginPage() cho bạn.
B — Tôi có thể lấy AuthRepository từ di thay vì khởi MockAuthRepository() thủ công.
C — Gộp provider bằng MultiBlocProvider/RepositoryProvider.
D — Không cần thay đổi, hiện tại mọi thứ hợp lệ.
Bạn chọn A/B/C/D hay muốn tôi thực hiện một thay đổi cụ thể nào